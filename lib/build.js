'use strict';

exports.__esModule = true;

exports.default = function (state) {
    var props = {};

    (0, _utils.each)(state, function (key, value) {
        if (_dictionary2.default[key]) {
            props[_dictionary2.default[key].prop] = createTemplateProp(props[_dictionary2.default[key].prop], _dictionary2.default[key].position, value);
        } else {
            props[(0, _utils.camelToDash)(key)] = value;
        }
    });

    TYPES.forEach(function (type) {
        if (props[type]) {
            props[type] = applyDefaults(type, props[type]);
        }
    });

    return props;
};

var _dictionary = require('./dictionary');

var _dictionary2 = _interopRequireDefault(_dictionary);

var _typesXyz = require('./types-xyz');

var _utils = require('../../inc/utils');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var XYZ_TEMPLATE = '$0 $1 $2';
var TYPES = [_typesXyz.POSITION, _typesXyz.SCALE, _typesXyz.ROTATION];

// Replace this with some kind of hook into Popmotion valueTypes
var defaults = {};
defaults[_typesXyz.POSITION] = defaults[_typesXyz.ROTATION] = 0;
defaults[_typesXyz.SCALE] = 1;

function createTemplateProp(existing, position, value) {
    var prop = existing || XYZ_TEMPLATE;

    prop = prop.replace('$' + position, value);

    return prop;
}

function applyDefaults(type, existing) {
    return existing.replace('$0', defaults[type]).replace('$1', defaults[type]).replace('$2', defaults[type]);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9idWlsZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O2tCQXdCZSxVQUFVLEtBQUssRUFBRTtBQUM1QixRQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7O0FBRWYsZUF6QkssSUFBSSxFQXlCSixLQUFLLEVBQUUsVUFBQyxHQUFHLEVBQUUsS0FBSyxFQUFLO0FBQ3hCLFlBQUkscUJBQVcsR0FBRyxDQUFDLEVBQUU7QUFDakIsaUJBQUssQ0FBQyxxQkFBVyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMscUJBQVcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUscUJBQVcsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBRWxILE1BQU07QUFDSCxpQkFBSyxDQUFDLFdBOUJILFdBQVcsRUE4QkksR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7U0FDbkM7S0FDSixDQUFDLENBQUM7O0FBRUgsU0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUksRUFBSztBQUNwQixZQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUNiLGlCQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsYUFBYSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztTQUNsRDtLQUNKLENBQUMsQ0FBQzs7QUFFSCxXQUFPLEtBQUssQ0FBQztDQUNoQjs7Ozs7Ozs7Ozs7O0FBdkNELElBQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQztBQUNoQyxJQUFNLEtBQUssR0FBRyxXQUpMLFFBQVEsWUFBRSxLQUFLLFlBQUUsUUFBUSxDQUlPOzs7QUFBQyxBQUcxQyxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDbEIsUUFBUSxXQVJDLFFBQVEsQ0FRQyxHQUFHLFFBQVEsV0FSSCxRQUFRLENBUUssR0FBRyxDQUFDLENBQUM7QUFDNUMsUUFBUSxXQVRXLEtBQUssQ0FTVCxHQUFHLENBQUMsQ0FBQzs7QUFFcEIsU0FBUyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtBQUNuRCxRQUFJLElBQUksR0FBRyxRQUFRLElBQUksWUFBWSxDQUFDOztBQUVwQyxRQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDOztBQUUzQyxXQUFPLElBQUksQ0FBQztDQUNmOztBQUVELFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7QUFDbkMsV0FBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Q0FDN0csQ0FBQyIsImZpbGUiOiJidWlsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkaWN0aW9uYXJ5IGZyb20gJy4vZGljdGlvbmFyeSc7XG5pbXBvcnQgeyBQT1NJVElPTiwgU0NBTEUsIFJPVEFUSU9OIH0gZnJvbSAnLi90eXBlcy14eXonO1xuaW1wb3J0IHsgZWFjaCwgY2FtZWxUb0Rhc2ggfSBmcm9tICcuLi8uLi9pbmMvdXRpbHMnO1xuXG5jb25zdCBYWVpfVEVNUExBVEUgPSAnJDAgJDEgJDInO1xuY29uc3QgVFlQRVMgPSBbUE9TSVRJT04sIFNDQUxFLCBST1RBVElPTl07XG5cbi8vIFJlcGxhY2UgdGhpcyB3aXRoIHNvbWUga2luZCBvZiBob29rIGludG8gUG9wbW90aW9uIHZhbHVlVHlwZXNcbmxldCBkZWZhdWx0cyA9IHt9O1xuZGVmYXVsdHNbUE9TSVRJT05dID0gZGVmYXVsdHNbUk9UQVRJT05dID0gMDtcbmRlZmF1bHRzW1NDQUxFXSA9IDE7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlUHJvcChleGlzdGluZywgcG9zaXRpb24sIHZhbHVlKSB7XG4gICAgbGV0IHByb3AgPSBleGlzdGluZyB8fCBYWVpfVEVNUExBVEU7XG5cbiAgICBwcm9wID0gcHJvcC5yZXBsYWNlKCckJyArIHBvc2l0aW9uLCB2YWx1ZSk7XG5cbiAgICByZXR1cm4gcHJvcDtcbn1cblxuZnVuY3Rpb24gYXBwbHlEZWZhdWx0cyh0eXBlLCBleGlzdGluZykge1xuICAgIHJldHVybiBleGlzdGluZy5yZXBsYWNlKCckMCcsIGRlZmF1bHRzW3R5cGVdKS5yZXBsYWNlKCckMScsIGRlZmF1bHRzW3R5cGVdKS5yZXBsYWNlKCckMicsIGRlZmF1bHRzW3R5cGVdKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIGxldCBwcm9wcyA9IHt9O1xuXG4gICAgZWFjaChzdGF0ZSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGRpY3Rpb25hcnlba2V5XSkge1xuICAgICAgICAgICAgcHJvcHNbZGljdGlvbmFyeVtrZXldLnByb3BdID0gY3JlYXRlVGVtcGxhdGVQcm9wKHByb3BzW2RpY3Rpb25hcnlba2V5XS5wcm9wXSwgZGljdGlvbmFyeVtrZXldLnBvc2l0aW9uLCB2YWx1ZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW2NhbWVsVG9EYXNoKGtleSldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFRZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICAgICAgaWYgKHByb3BzW3R5cGVdKSB7XG4gICAgICAgICAgICBwcm9wc1t0eXBlXSA9IGFwcGx5RGVmYXVsdHModHlwZSwgcHJvcHNbdHlwZV0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcHJvcHM7XG59Il19